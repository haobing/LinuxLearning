#include<stdio.h>
#include<pthread.h>
#include<unistd.h>

pthread_mutex_t mutex;

void printer(char *str)
{
	pthread_mutex_lock(&mutex);
	while(*str!='\0'){
		fputc(*str,stdout);
		str++;
		sleep(1);
	}
	printf("\n");
	pthread_mutex_unlock(&mutex);
}

void *thread1(void* arg)
{
	char *str="hello";
	printer(str);
}

void *thread2(void *arg)
{
	char *str="world";
	printer(str);
}

int main()
{
		pthread_t threadid1,threadid2;
		
		pthread_mutex_init(&mutex,NULL);
	
	pthread_create(&threadid1,NULL,thread1,NULL);
	pthread_create(&threadid2,NULL,thread2,NULL);
	
	pthread_join(threadid1,NULL);
	pthread_join(threadid2,NULL);
	
	pthread_mutex_destroy(&mutex);
	return 0;
}
	
	
